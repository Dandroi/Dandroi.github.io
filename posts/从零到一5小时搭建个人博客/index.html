<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>从零到一：5小时搭建个人博客 | Dandroi的个人博客</title>
<meta name="keywords" content="">
<meta name="description" content="
title: &ldquo;从零到一：我的个人博客自动化部署问题日志&rdquo;
tags: [&ldquo;建站&rdquo;, &ldquo;Hugo&rdquo;, &ldquo;GitHub&rdquo;, &ldquo;踩坑记录&rdquo;, &ldquo;教程&rdquo;, &ldquo;问题日志&rdquo;]
本文是一份详尽的技术问题日志，旨在精准记录我在24小时内，从零基础开始，通过 Hugo 和 GitHub Actions 搭建一个全自动个人博客所遇到的所有障碍、诊断过程及最终解决方案。
初始目标
使用 Hugo 静态网站生成器和 GitHub Pages 服务，构建一个可以通过 git push 自动更新内容的个人博客。
问题日志
阶段一：本地环境搭建
问题 #1：&#39;git&#39; 不是内部或外部命令...

触发操作： 在 Windows 11 的 CMD/PowerShell 中首次运行 git init。
诊断： 这是典型的环境变量缺失。系统未安装 Git，或已安装但其可执行文件路径未被添加到系统的 PATH 环境变量中。
解决方案：

从 git-scm.com 下载并安装 Git for Windows。
在安装向导的 Adjusting your PATH environment 步骤，必须选择 Git from the command line and also from 3rd-party software 选项，以确保 Git 命令在全局可用。



问题 #2：fatal: ... Connection was reset (下载主题时)">
<meta name="author" content="">
<link rel="canonical" href="https://Dandroi.github.io/posts/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%805%E5%B0%8F%E6%97%B6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://Dandroi.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://Dandroi.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://Dandroi.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://Dandroi.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://Dandroi.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://Dandroi.github.io/posts/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%805%E5%B0%8F%E6%97%B6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://Dandroi.github.io/posts/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%805%E5%B0%8F%E6%97%B6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">
  <meta property="og:site_name" content="Dandroi的个人博客">
  <meta property="og:title" content="从零到一：5小时搭建个人博客">
  <meta property="og:description" content=" title: “从零到一：我的个人博客自动化部署问题日志” tags: [“建站”, “Hugo”, “GitHub”, “踩坑记录”, “教程”, “问题日志”] 本文是一份详尽的技术问题日志，旨在精准记录我在24小时内，从零基础开始，通过 Hugo 和 GitHub Actions 搭建一个全自动个人博客所遇到的所有障碍、诊断过程及最终解决方案。
初始目标 使用 Hugo 静态网站生成器和 GitHub Pages 服务，构建一个可以通过 git push 自动更新内容的个人博客。
问题日志 阶段一：本地环境搭建 问题 #1：&#39;git&#39; 不是内部或外部命令...
触发操作： 在 Windows 11 的 CMD/PowerShell 中首次运行 git init。 诊断： 这是典型的环境变量缺失。系统未安装 Git，或已安装但其可执行文件路径未被添加到系统的 PATH 环境变量中。 解决方案： 从 git-scm.com 下载并安装 Git for Windows。 在安装向导的 Adjusting your PATH environment 步骤，必须选择 Git from the command line and also from 3rd-party software 选项，以确保 Git 命令在全局可用。 问题 #2：fatal: ... Connection was reset (下载主题时)">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-07-23T00:25:16+08:00">
    <meta property="article:modified_time" content="2025-07-23T00:25:16+08:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="从零到一：5小时搭建个人博客">
<meta name="twitter:description" content="
title: &ldquo;从零到一：我的个人博客自动化部署问题日志&rdquo;
tags: [&ldquo;建站&rdquo;, &ldquo;Hugo&rdquo;, &ldquo;GitHub&rdquo;, &ldquo;踩坑记录&rdquo;, &ldquo;教程&rdquo;, &ldquo;问题日志&rdquo;]
本文是一份详尽的技术问题日志，旨在精准记录我在24小时内，从零基础开始，通过 Hugo 和 GitHub Actions 搭建一个全自动个人博客所遇到的所有障碍、诊断过程及最终解决方案。
初始目标
使用 Hugo 静态网站生成器和 GitHub Pages 服务，构建一个可以通过 git push 自动更新内容的个人博客。
问题日志
阶段一：本地环境搭建
问题 #1：&#39;git&#39; 不是内部或外部命令...

触发操作： 在 Windows 11 的 CMD/PowerShell 中首次运行 git init。
诊断： 这是典型的环境变量缺失。系统未安装 Git，或已安装但其可执行文件路径未被添加到系统的 PATH 环境变量中。
解决方案：

从 git-scm.com 下载并安装 Git for Windows。
在安装向导的 Adjusting your PATH environment 步骤，必须选择 Git from the command line and also from 3rd-party software 选项，以确保 Git 命令在全局可用。



问题 #2：fatal: ... Connection was reset (下载主题时)">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://Dandroi.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "从零到一：5小时搭建个人博客",
      "item": "https://Dandroi.github.io/posts/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%805%E5%B0%8F%E6%97%B6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "从零到一：5小时搭建个人博客",
  "name": "从零到一：5小时搭建个人博客",
  "description": " title: \u0026ldquo;从零到一：我的个人博客自动化部署问题日志\u0026rdquo; tags: [\u0026ldquo;建站\u0026rdquo;, \u0026ldquo;Hugo\u0026rdquo;, \u0026ldquo;GitHub\u0026rdquo;, \u0026ldquo;踩坑记录\u0026rdquo;, \u0026ldquo;教程\u0026rdquo;, \u0026ldquo;问题日志\u0026rdquo;] 本文是一份详尽的技术问题日志，旨在精准记录我在24小时内，从零基础开始，通过 Hugo 和 GitHub Actions 搭建一个全自动个人博客所遇到的所有障碍、诊断过程及最终解决方案。\n初始目标 使用 Hugo 静态网站生成器和 GitHub Pages 服务，构建一个可以通过 git push 自动更新内容的个人博客。\n问题日志 阶段一：本地环境搭建 问题 #1：'git' 不是内部或外部命令...\n触发操作： 在 Windows 11 的 CMD/PowerShell 中首次运行 git init。 诊断： 这是典型的环境变量缺失。系统未安装 Git，或已安装但其可执行文件路径未被添加到系统的 PATH 环境变量中。 解决方案： 从 git-scm.com 下载并安装 Git for Windows。 在安装向导的 Adjusting your PATH environment 步骤，必须选择 Git from the command line and also from 3rd-party software 选项，以确保 Git 命令在全局可用。 问题 #2：fatal: ... Connection was reset (下载主题时)\n",
  "keywords": [
    
  ],
  "articleBody": " title: “从零到一：我的个人博客自动化部署问题日志” tags: [“建站”, “Hugo”, “GitHub”, “踩坑记录”, “教程”, “问题日志”] 本文是一份详尽的技术问题日志，旨在精准记录我在24小时内，从零基础开始，通过 Hugo 和 GitHub Actions 搭建一个全自动个人博客所遇到的所有障碍、诊断过程及最终解决方案。\n初始目标 使用 Hugo 静态网站生成器和 GitHub Pages 服务，构建一个可以通过 git push 自动更新内容的个人博客。\n问题日志 阶段一：本地环境搭建 问题 #1：'git' 不是内部或外部命令...\n触发操作： 在 Windows 11 的 CMD/PowerShell 中首次运行 git init。 诊断： 这是典型的环境变量缺失。系统未安装 Git，或已安装但其可执行文件路径未被添加到系统的 PATH 环境变量中。 解决方案： 从 git-scm.com 下载并安装 Git for Windows。 在安装向导的 Adjusting your PATH environment 步骤，必须选择 Git from the command line and also from 3rd-party software 选项，以确保 Git 命令在全局可用。 问题 #2：fatal: ... Connection was reset (下载主题时)\n触发操作： 运行 git submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod。 诊断： 这是一个纯粹的网络连接问题。git 通过 HTTPS 协议克隆仓库的过程中，连接被服务器或中间网络设备重置。多次重试均在下载中途失败。 解决方案（绕行）： 放弃使用 git submodule 命令。 直接在浏览器中访问主题的 GitHub 仓库页面。 点击 Code -\u003e Download ZIP，手动下载主题的完整压缩包。 解压后，将 hugo-PaperMod-master 文件夹重命名为 PaperMod。 将重命名后的 PaperMod 文件夹手动移动到本地项目的 themes 目录中。此方法完全绕过了不稳定的命令行网络连接。 阶段二：首次推送到 GitHub 问题 #3：Author identity unknown\n触发操作： 运行 git commit -m \"...\"。 诊断： Git 要求每一次提交（commit）都必须关联一个作者身份（用户名和邮箱）。本地 Git 配置中缺少此信息。 解决方案： 执行以下两条命令，配置全局的用户信息。此操作只需在新机器上执行一次。 git config --global user.name \"Dandroi\" git config --global user.email \"you@example.com\" # 替换为自己的GitHub邮箱 问题 #4：! [rejected] main -\u003e main (fetch first)\n触发操作： 运行 git push origin main。 诊断： 远程仓库（GitHub）包含了本地仓库所没有的提交记录。这是因为我为了解决部署问题，直接在 GitHub 网站上编辑了 hugo.yml 文件，导致远程版本领先于本地版本。Git 出于安全考虑，拒绝了可能覆盖远程更改的推送。 解决方案： 遵循 Git 的提示，执行 git pull origin main，将远程的更改拉取到本地并与本地修改进行合并。 在执行 pull 后，系统自动进入 Vim 编辑器界面，要求输入合并备注。通过输入 :wq 并按回车，保存默认备注并退出。 完成合并后，再次执行 git push origin main，推送成功。 阶段三：自动化部署 (GitHub Actions) 问题 #5：Error: Get Pages site failed... Not Found\n触发操作： GitHub Actions 首次运行。 诊断： 初始的 hugo.yml 工作流配置不正确。它尝试在源码仓库 (my-blog) 自身上启用和部署 Pages，但我们的计划是将静态文件部署到一个独立的目标仓库 (Dandroi.github.io)。 解决方案： 更换 hugo.yml 的内容，使用 peaceiris/actions-gh-pages 这个第三方 Action，并明确配置 external_repository 参数，指定部署的目标仓库。 问题 #6：Error: ... GITHUB_TOKEN does not support to push to an external repository\n触发操作： 使用了新的 hugo.yml 后，GitHub Actions 再次运行。 诊断： 这是一个权限问题。工作流默认使用的 GITHUB_TOKEN 仅有权限操作其所在的仓库 (my-blog)。它没有权限向另一个外部仓库 (Dandroi.github.io) 推送内容。 解决方案： 生成个人访问令牌 (PAT): 在 GitHub Settings -\u003e Developer settings -\u003e Personal access tokens 中，生成一个具有 repo 范围权限的经典个人访问令牌。生成后必须立刻复制并保存该令牌。 在源码仓库中添加 Secret: 在 my-blog 仓库的 Settings -\u003e Secrets and variables -\u003e Actions 中，创建一个名为 ACTIONS_DEPLOY_KEY 的新 Repository secret，其值为上一步生成的 PAT。 更新工作流文件: 修改 hugo.yml，将部署步骤中的 github_token: ${{ secrets.GITHUB_TOKEN }} 替换为 personal_token: ${{ secrets.ACTIONS_DEPLOY_KEY }}。 阶段四：最终的“拦路虎”——本地环境兼容性 问题 #7：git@github.com: Permission denied (publickey)，伴随 Could not create directory...\n触发操作： 在本地命令行中，尝试通过 git push 或 git pull 与配置了 SSH 协议的远程仓库进行交互。 诊断： 这是本次建站过程中最底层、最顽固的问题。其根源在于我的 Windows 用户名包含中文字符（“王玉航”）。 我所使用的命令行版 Git for Windows 内置的 SSH 客户端，在处理非 ASCII 字符的用户路径时存在兼容性缺陷。 当 SSH 首次连接，需要将服务器指纹写入 C:\\Users\\王玉航\\.ssh\\known_hosts 文件时，因无法正确解析中文路径而失败。 即使手动创建了 .ssh 文件夹和 known_hosts 文件，后续的读写操作依然失败，导致公钥认证无法完成。 结论： 这是一个无法在当前命令行环境下轻易解决的底层工具兼容性问题。重命名系统用户文件夹风险极高，不可取。 最终解决方案（决定性）： 彻底放弃在命令行中执行 push 和 pull 操作。 下载并安装 GitHub Desktop 官方图形化客户端。 使用 GitHub Desktop “添加本地仓库”功能，接管我的 my-blog 项目。 此后，所有提交和推送操作均通过 GitHub Desktop 的图形界面完成。该软件在后台使用了更健壮的方式处理认证和文件路径，完美绕开了命令行工具的缺陷。 最终工作流 经过以上所有问题的解决与绕行，我最终确立了稳定、高效的博客发布流程：\n本地写作： 使用任何文本编辑器创作 Markdown 文章。 本地预览 (可选)： 运行 hugo server 在本地浏览器中实时查看效果。 提交更改： 打开 GitHub Desktop，为本次修改填写备注，点击 Commit to main。 一键发布： 点击 GitHub Desktop 顶部的 Push origin 按钮。 GitHub Actions 会在后台自动完成所有构建和部署工作。几分钟后，更新就会出现在我的线上博客。\n总结 这次经历远超“搭建一个博客”本身。它是一次完整的、高强度的工程问题排查实践。我学会了如何阅读和理解错误日志，如何通过隔离变量来诊断问题，以及最重要的——当工具或环境成为障碍时，如何果断地寻找并切换到更合适的解决方案。\n",
  "wordCount" : "384",
  "inLanguage": "en",
  "datePublished": "2025-07-23T00:25:16+08:00",
  "dateModified": "2025-07-23T00:25:16+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://Dandroi.github.io/posts/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%805%E5%B0%8F%E6%97%B6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Dandroi的个人博客",
    "logo": {
      "@type": "ImageObject",
      "url": "https://Dandroi.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://Dandroi.github.io/" accesskey="h" title="Dandroi的个人博客 (Alt + H)">Dandroi的个人博客</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://Dandroi.github.io/search/" title="搜索 (Alt &#43; /)" accesskey=/>
                    <span>搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      从零到一：5小时搭建个人博客
    </h1>
    <div class="post-meta"><span title='2025-07-23 00:25:16 +0800 +0800'>July 23, 2025</span>

</div>
  </header> 
  <div class="post-content"><hr>
<h2 id="tags-建站-hugo-github-踩坑记录-教程-问题日志">title: &ldquo;从零到一：我的个人博客自动化部署问题日志&rdquo;
tags: [&ldquo;建站&rdquo;, &ldquo;Hugo&rdquo;, &ldquo;GitHub&rdquo;, &ldquo;踩坑记录&rdquo;, &ldquo;教程&rdquo;, &ldquo;问题日志&rdquo;]</h2>
<p>本文是一份详尽的技术问题日志，旨在精准记录我在24小时内，从零基础开始，通过 Hugo 和 GitHub Actions 搭建一个全自动个人博客所遇到的所有障碍、诊断过程及最终解决方案。</p>
<h3 id="初始目标">初始目标<a hidden class="anchor" aria-hidden="true" href="#初始目标">#</a></h3>
<p>使用 Hugo 静态网站生成器和 GitHub Pages 服务，构建一个可以通过 <code>git push</code> 自动更新内容的个人博客。</p>
<h3 id="问题日志">问题日志<a hidden class="anchor" aria-hidden="true" href="#问题日志">#</a></h3>
<h4 id="阶段一本地环境搭建"><strong>阶段一：本地环境搭建</strong><a hidden class="anchor" aria-hidden="true" href="#阶段一本地环境搭建">#</a></h4>
<p><strong>问题 #1：<code>'git' 不是内部或外部命令...</code></strong></p>
<ul>
<li><strong>触发操作：</strong> 在 Windows 11 的 CMD/PowerShell 中首次运行 <code>git init</code>。</li>
<li><strong>诊断：</strong> 这是典型的环境变量缺失。系统未安装 Git，或已安装但其可执行文件路径未被添加到系统的 PATH 环境变量中。</li>
<li><strong>解决方案：</strong>
<ol>
<li>从 <code>git-scm.com</code> 下载并安装 Git for Windows。</li>
<li>在安装向导的 <code>Adjusting your PATH environment</code> 步骤，必须选择 <code>Git from the command line and also from 3rd-party software</code> 选项，以确保 Git 命令在全局可用。</li>
</ol>
</li>
</ul>
<p><strong>问题 #2：<code>fatal: ... Connection was reset</code> (下载主题时)</strong></p>
<ul>
<li><strong>触发操作：</strong> 运行 <code>git submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod</code>。</li>
<li><strong>诊断：</strong> 这是一个纯粹的网络连接问题。<code>git</code> 通过 HTTPS 协议克隆仓库的过程中，连接被服务器或中间网络设备重置。多次重试均在下载中途失败。</li>
<li><strong>解决方案（绕行）：</strong>
<ol>
<li>放弃使用 <code>git submodule</code> 命令。</li>
<li>直接在浏览器中访问主题的 GitHub 仓库页面。</li>
<li>点击 <code>Code</code> -&gt; <code>Download ZIP</code>，手动下载主题的完整压缩包。</li>
<li>解压后，将 <code>hugo-PaperMod-master</code> 文件夹重命名为 <code>PaperMod</code>。</li>
<li>将重命名后的 <code>PaperMod</code> 文件夹手动移动到本地项目的 <code>themes</code> 目录中。此方法完全绕过了不稳定的命令行网络连接。</li>
</ol>
</li>
</ul>
<hr>
<h4 id="阶段二首次推送到-github"><strong>阶段二：首次推送到 GitHub</strong><a hidden class="anchor" aria-hidden="true" href="#阶段二首次推送到-github">#</a></h4>
<p><strong>问题 #3：<code>Author identity unknown</code></strong></p>
<ul>
<li><strong>触发操作：</strong> 运行 <code>git commit -m &quot;...&quot;</code>。</li>
<li><strong>诊断：</strong> Git 要求每一次提交（commit）都必须关联一个作者身份（用户名和邮箱）。本地 Git 配置中缺少此信息。</li>
<li><strong>解决方案：</strong>
<ul>
<li>执行以下两条命令，配置全局的用户信息。此操作只需在新机器上执行一次。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git config --global user.name <span style="color:#e6db74">&#34;Dandroi&#34;</span>
</span></span><span style="display:flex;"><span>git config --global user.email <span style="color:#e6db74">&#34;you@example.com&#34;</span> <span style="color:#75715e"># 替换为自己的GitHub邮箱</span>
</span></span></code></pre></div></li>
</ul>
<p><strong>问题 #4：<code>! [rejected] main -&gt; main (fetch first)</code></strong></p>
<ul>
<li><strong>触发操作：</strong> 运行 <code>git push origin main</code>。</li>
<li><strong>诊断：</strong> 远程仓库（GitHub）包含了本地仓库所没有的提交记录。这是因为我为了解决部署问题，直接在 GitHub 网站上编辑了 <code>hugo.yml</code> 文件，导致远程版本领先于本地版本。Git 出于安全考虑，拒绝了可能覆盖远程更改的推送。</li>
<li><strong>解决方案：</strong>
<ol>
<li>遵循 Git 的提示，执行 <code>git pull origin main</code>，将远程的更改拉取到本地并与本地修改进行合并。</li>
<li>在执行 <code>pull</code> 后，系统自动进入 Vim 编辑器界面，要求输入合并备注。通过输入 <code>:wq</code> 并按回车，保存默认备注并退出。</li>
<li>完成合并后，再次执行 <code>git push origin main</code>，推送成功。</li>
</ol>
</li>
</ul>
<hr>
<h4 id="阶段三自动化部署-github-actions"><strong>阶段三：自动化部署 (GitHub Actions)</strong><a hidden class="anchor" aria-hidden="true" href="#阶段三自动化部署-github-actions">#</a></h4>
<p><strong>问题 #5：<code>Error: Get Pages site failed... Not Found</code></strong></p>
<ul>
<li><strong>触发操作：</strong> GitHub Actions 首次运行。</li>
<li><strong>诊断：</strong> 初始的 <code>hugo.yml</code> 工作流配置不正确。它尝试在源码仓库 (<code>my-blog</code>) 自身上启用和部署 Pages，但我们的计划是将静态文件部署到一个独立的目标仓库 (<code>Dandroi.github.io</code>)。</li>
<li><strong>解决方案：</strong>
<ul>
<li>更换 <code>hugo.yml</code> 的内容，使用 <code>peaceiris/actions-gh-pages</code> 这个第三方 Action，并明确配置 <code>external_repository</code> 参数，指定部署的目标仓库。</li>
</ul>
</li>
</ul>
<p><strong>问题 #6：<code>Error: ... GITHUB_TOKEN does not support to push to an external repository</code></strong></p>
<ul>
<li><strong>触发操作：</strong> 使用了新的 <code>hugo.yml</code> 后，GitHub Actions 再次运行。</li>
<li><strong>诊断：</strong> 这是一个权限问题。工作流默认使用的 <code>GITHUB_TOKEN</code> 仅有权限操作其所在的仓库 (<code>my-blog</code>)。它没有权限向另一个外部仓库 (<code>Dandroi.github.io</code>) 推送内容。</li>
<li><strong>解决方案：</strong>
<ol>
<li><strong>生成个人访问令牌 (PAT):</strong> 在 GitHub <code>Settings</code> -&gt; <code>Developer settings</code> -&gt; <code>Personal access tokens</code> 中，生成一个具有 <code>repo</code> 范围权限的经典个人访问令牌。<strong>生成后必须立刻复制并保存该令牌。</strong></li>
<li><strong>在源码仓库中添加 Secret:</strong> 在 <code>my-blog</code> 仓库的 <code>Settings</code> -&gt; <code>Secrets and variables</code> -&gt; <code>Actions</code> 中，创建一个名为 <code>ACTIONS_DEPLOY_KEY</code> 的新 Repository secret，其值为上一步生成的 PAT。</li>
<li><strong>更新工作流文件:</strong> 修改 <code>hugo.yml</code>，将部署步骤中的 <code>github_token: ${{ secrets.GITHUB_TOKEN }}</code> 替换为 <code>personal_token: ${{ secrets.ACTIONS_DEPLOY_KEY }}</code>。</li>
</ol>
</li>
</ul>
<hr>
<h4 id="阶段四最终的拦路虎本地环境兼容性"><strong>阶段四：最终的“拦路虎”——本地环境兼容性</strong><a hidden class="anchor" aria-hidden="true" href="#阶段四最终的拦路虎本地环境兼容性">#</a></h4>
<p><strong>问题 #7：<code>git@github.com: Permission denied (publickey)</code>，伴随 <code>Could not create directory...</code></strong></p>
<ul>
<li><strong>触发操作：</strong> 在本地命令行中，尝试通过 <code>git push</code> 或 <code>git pull</code> 与配置了 SSH 协议的远程仓库进行交互。</li>
<li><strong>诊断：</strong> 这是本次建站过程中最底层、最顽固的问题。其根源在于我的 Windows 用户名包含中文字符（“王玉航”）。
<ol>
<li>我所使用的命令行版 Git for Windows 内置的 SSH 客户端，在处理非 ASCII 字符的用户路径时存在兼容性缺陷。</li>
<li>当 SSH 首次连接，需要将服务器指纹写入 <code>C:\Users\王玉航\.ssh\known_hosts</code> 文件时，因无法正确解析中文路径而失败。</li>
<li>即使手动创建了 <code>.ssh</code> 文件夹和 <code>known_hosts</code> 文件，后续的读写操作依然失败，导致公钥认证无法完成。</li>
<li><strong>结论：</strong> 这是一个无法在当前命令行环境下轻易解决的底层工具兼容性问题。重命名系统用户文件夹风险极高，不可取。</li>
</ol>
</li>
<li><strong>最终解决方案（决定性）：</strong>
<ol>
<li><strong>彻底放弃在命令行中执行 <code>push</code> 和 <code>pull</code> 操作。</strong></li>
<li>下载并安装 <strong>GitHub Desktop</strong> 官方图形化客户端。</li>
<li>使用 GitHub Desktop “添加本地仓库”功能，接管我的 <code>my-blog</code> 项目。</li>
<li>此后，所有提交和推送操作均通过 GitHub Desktop 的图形界面完成。该软件在后台使用了更健壮的方式处理认证和文件路径，完美绕开了命令行工具的缺陷。</li>
</ol>
</li>
</ul>
<h3 id="最终工作流">最终工作流<a hidden class="anchor" aria-hidden="true" href="#最终工作流">#</a></h3>
<p>经过以上所有问题的解决与绕行，我最终确立了稳定、高效的博客发布流程：</p>
<ol>
<li><strong>本地写作：</strong> 使用任何文本编辑器创作 Markdown 文章。</li>
<li><strong>本地预览 (可选)：</strong> 运行 <code>hugo server</code> 在本地浏览器中实时查看效果。</li>
<li><strong>提交更改：</strong> 打开 GitHub Desktop，为本次修改填写备注，点击 <code>Commit to main</code>。</li>
<li><strong>一键发布：</strong> 点击 GitHub Desktop 顶部的 <code>Push origin</code> 按钮。</li>
</ol>
<p>GitHub Actions 会在后台自动完成所有构建和部署工作。几分钟后，更新就会出现在我的线上博客。</p>
<h3 id="总结">总结<a hidden class="anchor" aria-hidden="true" href="#总结">#</a></h3>
<p>这次经历远超“搭建一个博客”本身。它是一次完整的、高强度的工程问题排查实践。我学会了如何阅读和理解错误日志，如何通过隔离变量来诊断问题，以及最重要的——当工具或环境成为障碍时，如何果断地寻找并切换到更合适的解决方案。</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://Dandroi.github.io/">Dandroi的个人博客</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
